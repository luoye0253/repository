<!DOCTYPE html>
<!--
	作者：2076592250@qq.com
	时间：2018-04-02
	描述：http://www.cnblogs.com/lk4525/p/6513924.html
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title>js全选</title>
	</head>
	<body>
		<form id="menuForm">
			<!-- dom对table表格的兼容性不好 -->
			<div id="menu">
				<div>
					<label><input id="chooseAll" type="checkbox" />全选</label>
				</div>
				<div>
					<div>
						<label><input type="checkbox" name="fruit" />苹果</label>
						<label><input type="checkbox" name="fruit" />西瓜</label>
						<label><input type="checkbox" name="fruit" />香蕉</label>
					</div>
					<div>
						<label><input type="checkbox" name="fruit" />菠萝</label>
						<label><input type="checkbox" name="fruit" />葡萄</label>
						<label><input type="checkbox" name="fruit" />哈密瓜</label>
					</div>
				</div>
			</div>
		</form>
		
		<script type="text/javascript">
			/**
			 * 思路：1.点击全选，下面内容全选  2.下面有一个没选中时，全选框不勾选，全部选中才全选。可以引入一个计时器来判断是否选中
			 * 
			 * 选中状态改变成 lightskyblue色
			 */
			
			/* 全选 */
			var chooseAll = document.getElementById('chooseAll');
			var fruits = document.getElementsByName('fruit');
			
			chooseAll.onclick = function() {
				if(this.checked) {
					for(var i=0; i<fruits.length; i++) {
						fruits[i].checked = true;
					}
				} else {
					for(var i=0; i<fruits.length; i++) {
						fruits[i].checked = false;
					}
				}
			}
			
			/* 下面全选后 ，全选框才勾上 */
			for(var i=0; i<fruits.length; i++) {
				fruits[i].onclick = function() {
					//引入计数器
					var sum = 0;
					for(var j=0; j<fruits.length; j++) {
						if(fruits[j].checked) {
							sum += 1;
							if(sum == fruits.length) {
								chooseAll.checked = true;
							} else {
								chooseAll.checked = false;
							}
						}
					}
				}
			}
		</script>
	</body>
</html>
